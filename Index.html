<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Conductores Pro</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  </head>

  <body>
    <!-- LOGIN -->
    <div id="login" class="login-card">
      <img src="logo.png" class="logo" />
      <h2>Conductores Pro</h2>

      <select id="userSelect">
        <option value="">Seleccionar usuario</option>
        <option value="coordinadora">Coordinadora</option>
        <option value="conductor1">Conductor 1</option>
        <option value="conductor2">Conductor 2</option>
        <option value="conductor3">Conductor 3</option>
        <option value="conductor4">Conductor 4</option>
      </select>

      <input type="password" id="password" placeholder="Contraseña" />
      <button onclick="login()">Ingresar</button>
    </div>

    <!-- APP -->
    <div id="app" class="app hidden">
      <aside class="sidebar">
        <img src="logo.png" class="logo" />
        <h3 id="roleTitle"></h3>

        <button onclick="showSection('dashboard')" id="btnDashboard">
          Panel
        </button>
        <button onclick="showSection('inventario')" id="btnInventario">
          Asignar Inventario
        </button>
        <button onclick="showSection('facturas')" id="btnFacturas">
          Facturas
        </button>
        <button
          onclick="showSection('editarPrecios')"
          id="btnEditarPrecios"
          class="coordinator-only hidden"
        >
          Editar Precios
        </button>
        <button
          id="ventasBtn"
          onclick="showSection('ventas')"
          class="driver-only"
        >
          Ventas
        </button>

        <button class="logout" onclick="logout()">Salir</button>
      </aside>

      <main class="content">
        <!-- DASHBOARD -->
        <div id="dashboard" class="card">
          <h2>Panel de Coordinadora</h2>
          <div id="dashboardContent"></div>
        </div>

        <!-- INVENTARIO -->
        <div id="inventario" class="card hidden">
          <div id="inventoryList"></div>
        </div>

        <!-- VENTAS -->
        <div id="ventas" class="card hidden">
          <h3>Registrar venta</h3>

          <div
            style="
              margin-bottom: 20px;
              padding-bottom: 20px;
              border-bottom: 2px solid #e2e8f0;
            "
          >
            <h4 style="margin-bottom: 15px">Datos del Cliente</h4>

            <div class="form-row" style="margin-bottom: 15px">
              <label style="min-width: 150px">Nombre del Negocio:</label>
              <input
                id="businessName"
                placeholder="Ingresa el nombre del negocio"
                class="form-input"
                style="flex: 1"
                required
              />
            </div>

            <div class="form-row" style="margin-bottom: 15px">
              <label style="min-width: 150px">Razón Social o NIT:</label>
              <input
                id="razonSocial"
                placeholder="Razón social o NIT del cliente"
                class="form-input"
                style="flex: 1"
              />
            </div>

            <div class="form-row" style="margin-bottom: 15px">
              <label style="min-width: 150px">Responsable:</label>
              <input
                id="responsable"
                placeholder="Nombre del responsable"
                class="form-input"
                style="flex: 1"
              />
            </div>

            <div class="form-row" style="margin-bottom: 15px">
              <label style="min-width: 150px">Cédula (CC):</label>
              <input
                id="cc"
                placeholder="Número de cédula"
                class="form-input"
                style="flex: 1"
                type="text"
              />
            </div>

            <div class="form-row" style="margin-bottom: 15px">
              <label style="min-width: 150px">Teléfono:</label>
              <input
                id="telefono"
                placeholder="Número de teléfono"
                class="form-input"
                style="flex: 1"
                type="tel"
              />
            </div>
          </div>

          <div style="margin-bottom: 20px">
            <h4 style="margin-bottom: 15px">Productos</h4>

            <div class="row">
              <select
                id="saleProduct"
                class="form-select product-select"
                style="flex: 2"
              >
                <option value="">Buscar producto...</option>
                <option value="custom">[Producto personalizado]</option>
              </select>
              <input
                id="saleProductCustom"
                placeholder="Producto personalizado"
                class="form-input hidden"
                style="flex: 2"
              />
              <input
                id="saleQty"
                type="number"
                min="1"
                placeholder="Cantidad"
                class="form-input"
                style="flex: 1"
              />
              <input
                id="salePrice"
                type="number"
                min="0"
                step="0.01"
                placeholder="Precio"
                class="form-input"
                style="flex: 1"
              />
              <button
                onclick="addSaleItem()"
                class="btn-primary"
                style="flex: 0 0 auto"
              >
                Agregar
              </button>
            </div>

            <div id="saleList"></div>

            <h3 style="margin-top: 20px">Total: $<span id="total">0</span></h3>
            <button
              onclick="finalizeSale()"
              class="btn-primary"
              style="margin-top: 10px"
            >
              Generar factura
            </button>
          </div>
        </div>

        <!-- FACTURAS -->
        <div id="facturas" class="card hidden">
          <h3>Facturas</h3>
          <div id="invoiceList"></div>
        </div>

        <!-- GESTIÓN DE INVENTARIO (COORDINADORA) -->
        <div id="gestionInventario" class="card hidden">
          <h2>Gestión de Inventario por Conductor</h2>
          <p>Visualiza y edita el inventario asignado a cada conductor.</p>
          <div id="gestionInventarioContent"></div>
        </div>

        <!-- CONTROL DE MOVIMIENTOS (COORDINADORA) -->
        <div id="controlMovimientos" class="card hidden">
          <h2>Control General de Movimientos</h2>
          <p>
            Historial completo de todos los movimientos de productos en el
            sistema.
          </p>
          <div id="controlMovimientosContent"></div>
        </div>

        <!-- SUPERVISIÓN DE VENTAS (COORDINADORA) -->
        <div id="supervisionVentas" class="card hidden">
          <h2>Supervisión de Ventas y Facturas</h2>
          <p>
            Visualiza y supervisa todas las ventas y facturas de todos los
            conductores.
          </p>
          <div id="supervisionVentasContent"></div>
        </div>

        <!-- HISTÓRICO DE VENTAS (COORDINADORA) -->
        <div id="historialVentas" class="card hidden">
          <h2>Histórico de Productos Vendidos</h2>
          <p>Resumen de productos vendidos y total de ventas.</p>
          <div id="historialVentasContent"></div>
        </div>

        <!-- EDITAR PRECIOS (COORDINADORA) -->
        <div id="editarPrecios" class="card hidden">
          <h2>Gestión de Precios de Productos</h2>
          <p>Edita los precios del catálogo de productos actuales.</p>
          <div id="editarPreciosContent"></div>
        </div>
      </main>
    </div>

    <script src="app.js"></script>
  </body>
</html>
